[["index.html", "The trip for program learning Chapter 1 Motivation", " The trip for program learning YinCheng Chen 2021-07-27 Chapter 1 Motivation To pay tribute to the shoulders of R giants, I start to write some essay about my R skill and make some note in this website. "],["r-base-function.html", "Chapter 2 R base function", " Chapter 2 R base function 2.0.1 字串 字串連接 paste(&quot;OTU_&quot;, 1, sep=&quot;&quot;) ## [1] &quot;OTU_1&quot; paste(&quot;OTU_&quot;, 1:10, sep=&quot;&quot;) ## [1] &quot;OTU_1&quot; &quot;OTU_2&quot; &quot;OTU_3&quot; &quot;OTU_4&quot; &quot;OTU_5&quot; &quot;OTU_6&quot; &quot;OTU_7&quot; &quot;OTU_8&quot; ## [9] &quot;OTU_9&quot; &quot;OTU_10&quot; str_vec1 &lt;- c(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;) str_vec2 &lt;- c(1, 2, 3, 4) paste(str_vec1, str_vec2, sep=&quot;_&quot;) ## [1] &quot;aaa_1&quot; &quot;bbb_2&quot; &quot;ccc_3&quot; &quot;ddd_4&quot; paste(str_vec1, collapse =&quot;_&quot;) ## [1] &quot;aaa_bbb_ccc_ddd&quot; 字串切割 sentence = &quot;The earth is round (p &lt; 0.05).&quot; strsplit(sentence, split=&quot; &quot;, fixed=F) ## [[1]] ## [1] &quot;The&quot; &quot;earth&quot; &quot;is&quot; &quot;round&quot; &quot;(p&quot; &quot;&lt;&quot; &quot;0.05).&quot; strsplit(sentence, split=&quot;\\\\s&quot;, fixed=F) ## [[1]] ## [1] &quot;The&quot; &quot;earth&quot; &quot;is&quot; &quot;round&quot; &quot;(p&quot; &quot;&lt;&quot; &quot;0.05).&quot; substr(sentence,5,9) ## [1] &quot;earth&quot; 部份字串搜尋 str_vec &lt;- c(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;) grep(&quot;a&quot;, str_vec) ## [1] 1 grep(&quot;b&quot;, str_vec) ## [1] 2 grep(&quot;b&quot;, str_vec, value=T) ## [1] &quot;bbb&quot; grep(&quot;b&quot;, str_vec, value=T, invert=T) ## [1] &quot;aaa&quot; &quot;ccc&quot; &quot;ddd&quot; grep(&quot;z&quot;, str_vec) ## integer(0) grepl(&quot;b&quot;, str_vec) ## [1] FALSE TRUE FALSE FALSE 字串取代 sentence = &quot;Bacteria;Firmicutes;Clostridia;Clostridiales;Lachnospiraceae&quot; sub(&quot;;&quot;, replacement=&quot;__&quot;, sentence) ## [1] &quot;Bacteria__Firmicutes;Clostridia;Clostridiales;Lachnospiraceae&quot; gsub(&quot;;&quot;, replacement=&quot;__&quot;, sentence) ## [1] &quot;Bacteria__Firmicutes__Clostridia__Clostridiales__Lachnospiraceae&quot; 2.0.2 亂數產生 Uniform distribution runif(5) #sampling 5 numbers form 0 to 1 ## [1] 0.72256884 0.04348463 0.59515135 0.35431701 0.25617647 runif(5,2,10) #sampling 5 numbers form 2 to 10 ## [1] 9.700805 7.190126 8.232833 5.156930 2.921558 hist(runif(10000)) Normal distribution rnorm(5) #sampling 5 numbers : mean = 0, sd = 1 ## [1] -0.4609833 0.2480591 -0.5656726 0.9785045 -0.9645702 rnorm(5,10,1) #sampling 5 numbers : mean = 10, sd = 1 ## [1] 10.197813 9.267838 12.400211 9.209569 10.559206 hist(rnorm(10000,100,5)) Binomial distribution rbinom(10,10,0.9) ## [1] 9 9 10 10 10 9 9 9 10 10 Exponential distribution rexp(10,3) ## [1] 0.12627935 0.54705539 0.12892985 0.05057072 0.12192776 0.62338132 ## [7] 1.32180457 0.05344988 0.03721187 0.23679455 2.0.3 矩陣運算 產生矩陣 M &lt;- matrix(0, nrow = 5, ncol = 6) M ## [,1] [,2] [,3] [,4] [,5] [,6] ## [1,] 0 0 0 0 0 0 ## [2,] 0 0 0 0 0 0 ## [3,] 0 0 0 0 0 0 ## [4,] 0 0 0 0 0 0 ## [5,] 0 0 0 0 0 0 M &lt;- matrix(rnorm(3*2,10,5),3,2) M ## [,1] [,2] ## [1,] 9.576546 12.200143 ## [2,] 14.400502 11.537363 ## [3,] 11.597626 2.562807 測維度 dim(M) ## [1] 3 2 nrow(M) ## [1] 3 ncol(M) ## [1] 2 矩陣組合 cbind(M,M) ## [,1] [,2] [,3] [,4] ## [1,] 9.576546 12.200143 9.576546 12.200143 ## [2,] 14.400502 11.537363 14.400502 11.537363 ## [3,] 11.597626 2.562807 11.597626 2.562807 rbind(M,M) ## [,1] [,2] ## [1,] 9.576546 12.200143 ## [2,] 14.400502 11.537363 ## [3,] 11.597626 2.562807 ## [4,] 9.576546 12.200143 ## [5,] 14.400502 11.537363 ## [6,] 11.597626 2.562807 矩陣轉置 M &lt;- matrix(1:8,nrow = 2, dimnames = list(c(&quot;r1&quot;,&quot;r2&quot;),c(&quot;c1&quot;,&quot;c2&quot;,&quot;c3&quot;,&quot;c4&quot;))) M ## c1 c2 c3 c4 ## r1 1 3 5 7 ## r2 2 4 6 8 t(M) # 轉置 ## r1 r2 ## c1 1 2 ## c2 3 4 ## c3 5 6 ## c4 7 8 M[nrow(M):1,] # 上下翻轉 ## c1 c2 c3 c4 ## r2 2 4 6 8 ## r1 1 3 5 7 M[,ncol(M):1] # 左右翻轉 ## c4 c3 c2 c1 ## r1 7 5 3 1 ## r2 8 6 4 2 t(apply(M, 2, rev)) # 順時針90度翻轉 ## r2 r1 ## c1 2 1 ## c2 4 3 ## c3 6 5 ## c4 8 7 apply(t(M), 2, rev) # 逆時針90度翻轉 ## r1 r2 ## c4 7 8 ## c3 5 6 ## c2 3 4 ## c1 1 2 其他運算 M &lt;- matrix(1:9,3,3) M ## [,1] [,2] [,3] ## [1,] 1 4 7 ## [2,] 2 5 8 ## [3,] 3 6 9 diag(M) #對角線的元素 ## [1] 1 5 9 diag(M) = 0 M ## [,1] [,2] [,3] ## [1,] 0 4 7 ## [2,] 2 0 8 ## [3,] 3 6 0 M %*% M #矩陣乘法 ## [,1] [,2] [,3] ## [1,] 29 42 32 ## [2,] 24 56 14 ## [3,] 12 12 69 library(matrixStats) M &lt;- matrix(rnorm(5*7,10,3),5,7) M ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] ## [1,] 11.291282 9.180391 10.902502 7.990798 14.457731 10.651007 9.335843 ## [2,] 8.863919 12.919020 12.205880 9.821139 6.770227 13.315724 7.844703 ## [3,] 12.842186 12.625160 8.387548 9.166537 10.478959 10.732770 11.084385 ## [4,] 10.028342 12.638942 12.476397 6.293060 13.801532 7.705573 8.134795 ## [5,] 11.303011 8.904384 8.082337 14.281593 5.961345 12.647874 12.610142 rowSums(M) ## [1] 73.80955 71.74061 75.31754 71.07864 73.79069 rowMeans(M) ## [1] 10.54422 10.24866 10.75965 10.15409 10.54153 rowSds(M) ## [1] 2.075797 2.593171 1.641489 2.882926 2.971805 rowMaxs(M) ## [1] 14.45773 13.31572 12.84219 13.80153 14.28159 rowMins(M) ## [1] 7.990798 6.770227 8.387548 6.293060 5.961345 Z-transformation gene_expression sample_1 sample_2 sample_3 sample_4 sample_5 sample_6 gene_1 10.627909 9.650561 13.01061 8.669535 14.357361 6.704488 gene_2 13.718288 10.251021 11.94281 8.363960 9.954190 12.412464 gene_3 5.988395 11.495754 12.72961 11.752669 8.997694 7.591013 gene_4 12.754950 9.937096 12.05163 13.317813 10.313676 12.716374 gene_5 8.365663 18.949601 13.48431 14.929497 11.544229 12.337097 cal_z_score &lt;- function(x){ (x - mean(x)) / sd(x) } z_transformed &lt;- t(apply(gene_expression, 1, cal_z_score)) z_transformed sample_1 sample_2 sample_3 sample_4 sample_5 sample_6 gene_1 0.0441961 -0.3027537 0.8900313 -0.6510087 1.3681173 -1.3485822 gene_2 1.3463351 -0.4414114 0.4308847 -1.4143927 -0.5944592 0.6730435 gene_3 -1.4189003 0.6534464 1.1177308 0.7501201 -0.2865407 -0.8158564 gene_4 0.6479245 -1.3664582 0.1451469 1.0502946 -1.0972550 0.6203473 gene_5 -1.3816413 1.6010202 0.0608468 0.4681139 -0.4858891 -0.2624506 rowMeans(z_transformed) ## gene_1 gene_2 gene_3 gene_4 gene_5 ## -1.029269e-16 -1.850372e-17 -1.665335e-16 -2.498002e-16 1.029269e-16 rowSds(z_transformed) ## [1] 1 1 1 1 1 "],["basic-statistics.html", "Chapter 3 Basic Statistics", " Chapter 3 Basic Statistics 3.0.1 Outline 依據你的資料型態來選擇統計方法，大致上可以用比較方式，原資料是否符合常態分佈與要檢定的統計量來挑選統計方法。 比較方式關乎到你的實驗設計，大致上可分為 : 比較一個樣本與目標。 i.g. 這個骰子是均勻隨機的還是灌鉛的。 兩組樣本相互比較，其中亦可分為 : 兩組獨立樣本。 i.g. 比較吃安慰劑與藥劑的兩群小鼠之基因表現。 兩組成對樣本。 i.g. 比較同一批小鼠吃藥前後的基因表現。 比較兩組以上的樣本。 i.g. 比較不同國家國民的BMI。 統計分法大致上可分為參數(parametric)分析及無母數(non-parametric)分析兩大類。 參數分析需要顧及資料是否為常態分布、是否有相同變異數、是否有離群值(outlier)等許多前提假設。無母數分析則無需顧及前提假設。故需要檢查資料是否符合常態分佈，以下提供幾種方法。 於是我們拿Anderson’s Iris data set中的花萼寬及花瓣寬來測試。 par(mfrow = c(1,2)) hist(iris$Sepal.Width, main = &quot;Histogram of Sepal.Width&quot;) hist(iris$Petal.Width, main = &quot;Histogram of Petal.Width&quot;) 從直方圖可以看出Sepal.Width的分佈比Petal.Width更符合常態分佈。 par(mfrow = c(1,2)) qqnorm(iris$Sepal.Width, main = &quot;Q-Q plot of Sepal.Width&quot;) qqline(iris$Sepal.Width) qqnorm(iris$Petal.Width, main = &quot;Q-Q plot of Petal.Width&quot;) qqline(iris$Petal.Width) 且 可以看出Sepal.Width的分佈比Petal.Width更符合常態分佈。 "],["clustering-method.html", "Chapter 4 Clustering Method", " Chapter 4 Clustering Method "],["dimension-reduction.html", "Chapter 5 Dimension Reduction", " Chapter 5 Dimension Reduction "],["visualization.html", "Chapter 6 Visualization", " Chapter 6 Visualization "],["ml-model.html", "Chapter 7 ML Model", " Chapter 7 ML Model "],["rcpp.html", "Chapter 8 Rcpp", " Chapter 8 Rcpp "],["bash-cheatsheet.html", "Chapter 9 Bash cheatsheet", " Chapter 9 Bash cheatsheet 9.0.1 基本的指令 change directory cd folder_A #變更現行目錄至 folder_A cd .. #回上一層目錄 cd ~ #回到home make directory mkdir folder_A #建立 folder_A 至現行目錄 list ls #陳列現行目錄下的檔案名稱 ls -a #檢視隱藏檔案 ls -l #檢視詳細清單 move mv folder_A/file_1 folder_B/file_1 #移動file_1 從 folder_A 至 folder_B mv folder_A/file_1 folder_A/file_2 #在原資料夾下變更檔案名稱為 file_2 mv -r folder_A folder_B/folder_A將folder_A #移動至folder_B底下 copy cp folder_A/file_1 folder_B/file_1 #複製file_1 從 folder_A 至 folder_B cp -r folder_A folder_B/folder_A #將folder_A 複製至folder_B底下 remove rm file_1 #刪除 file_1 rm -r folder_A #刪除 folder_A a glance at file less file_1 #進入閱讀模式查看 file_1 , 推出按q鍵 cat file_1 #將file_1印在銀幕上 more file_1 #將file_1以一頁一頁的顯示，逐頁閱讀 head file_1 #只檢視file_1的前6行 tail file_1 #指檢視file_1的後6行 system status top #檢視目前電腦運行的狀態 df -g #檢視目前硬碟的狀態，以Gb為單位 free -g #檢視目前RAM的狀態，以Gb為單位 who #檢視目前那些使用者在線上 9.0.2 PATH 9.0.2.1 絕對路徑與相對路徑 假設有個名為anywhere_door.jpg的圖片在treasure_bag的資料夾內。 絕對路徑是以根目錄“/”為始，為 /home/dorAemon/treasure_bag/anywhere_door.jpg 相對路徑則是以當下目錄為主，若當下在自己的home目錄，則為 treasure_bag/anywhere_door.jpg or ~/treasure_bag/anywhere_door.jpg 9.0.2.2 解析檔案 以 /home/dorAemon/treasure_bag/anywhere_door.jpg 為例 /home/dorAemon/treasure_bag 為路徑 anywhere_door 為檔名 .jpg 為副檔名 以此，我們可以做基本的操作 basename /home/dorAemon/treasure_bag/anywhere_door.jpg #萃取完整檔案名 anywhere_door.jpg basename -s .jpg /home/dorAemon/treasure_bag/anywhere_door.jpg #萃取檔案名 anywhere_door dirname /home/dorAemon/treasure_bag/anywhere_door.jpg #萃取檔案路徑 /home/dorAemon/treasure_bag 9.0.2.3 環境變數 當我們要執行某指令時需要將，只輸入指令名稱，而沒有輸入完整指令路徑，系統會在環境變數 中的目錄搜尋相關指令, 如你在任何資料夾中都可以執行ls 而非/bin/ls。 檢視目前的環境變數可用以下指令 echo $PATH or env set #檢視目前 shell 的所有變數 若執行echo $PATH 會輸出類似內容 [dorAemon@localhost ~]$ echo $PATH /usr/local/bin:/usr/bin:/data/home/dorAemon/.local/bin:/data/home/dorAemon/bin:/data/home/dorAemon/treasure_bag 以:為分隔符號可知道環境變數為 /usr/local/bin /usr/bin /data/home/dorAemon/.local/bin /data/home/dorAemon/bin /data/home/dorAemon/treasure_bag 若想將在任意地方執行 ~/treasure_bag 底下的執行檔，需要將~/treasure_bag加入環境變數，即 PATH=&quot;${PATH}:/home/dorAemon/treasure_bag&quot; or export LD_LIBRARY_PATH=/home/dorAemon/treasure_bag 9.0.2.4 尋找檔案 find /home -name anywhere_door.jpg #在/home目錄底下尋找anywhere_door.jpg檔案 find /home -iname anywhere_door.jpg #尋找anywhere_door.jpg時不分英文大小寫 find /home -type d -name anywhere_door #尋找名為anywhere_door的資料夾 ; f : file; l : link find /home -user dorAemon -name anywhere_door.jpg #尋找anywhere_door.jpg且檔案擁有者是dorAemon find /home -group developer #尋找anywhere_door.jpg檔案且屬於developer的群組 which anywhere_door #在$PATH所規範的路徑去搜尋anywhere_door的檔名 9.0.3 變數 9.0.4 判斷式與迴圈 9.0.5 grep, awk, sed 三兄弟 "]]
