[["index.html", "The trip for program learning Chapter 1 Motivation", " The trip for program learning YinCheng Chen 2021-07-27 Chapter 1 Motivation To pay tribute to the shoulders of R giants, I start to write some essay about my R skill and make some note in this website. "],["r-base-function.html", "Chapter 2 R base function", " Chapter 2 R base function 2.0.1 字串 字串連接 paste(&quot;OTU_&quot;, 1, sep=&quot;&quot;) ## [1] &quot;OTU_1&quot; paste(&quot;OTU_&quot;, 1:10, sep=&quot;&quot;) ## [1] &quot;OTU_1&quot; &quot;OTU_2&quot; &quot;OTU_3&quot; &quot;OTU_4&quot; &quot;OTU_5&quot; &quot;OTU_6&quot; &quot;OTU_7&quot; &quot;OTU_8&quot; ## [9] &quot;OTU_9&quot; &quot;OTU_10&quot; str_vec1 &lt;- c(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;) str_vec2 &lt;- c(1, 2, 3, 4) paste(str_vec1, str_vec2, sep=&quot;_&quot;) ## [1] &quot;aaa_1&quot; &quot;bbb_2&quot; &quot;ccc_3&quot; &quot;ddd_4&quot; paste(str_vec1, collapse =&quot;_&quot;) ## [1] &quot;aaa_bbb_ccc_ddd&quot; 字串切割 sentence = &quot;The earth is round (p &lt; 0.05).&quot; strsplit(sentence, split=&quot; &quot;, fixed=F) ## [[1]] ## [1] &quot;The&quot; &quot;earth&quot; &quot;is&quot; &quot;round&quot; &quot;(p&quot; &quot;&lt;&quot; &quot;0.05).&quot; strsplit(sentence, split=&quot;\\\\s&quot;, fixed=F) ## [[1]] ## [1] &quot;The&quot; &quot;earth&quot; &quot;is&quot; &quot;round&quot; &quot;(p&quot; &quot;&lt;&quot; &quot;0.05).&quot; substr(sentence,5,9) ## [1] &quot;earth&quot; 部份字串搜尋 str_vec &lt;- c(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;) grep(&quot;a&quot;, str_vec) ## [1] 1 grep(&quot;b&quot;, str_vec) ## [1] 2 grep(&quot;b&quot;, str_vec, value=T) ## [1] &quot;bbb&quot; grep(&quot;b&quot;, str_vec, value=T, invert=T) ## [1] &quot;aaa&quot; &quot;ccc&quot; &quot;ddd&quot; grep(&quot;z&quot;, str_vec) ## integer(0) grepl(&quot;b&quot;, str_vec) ## [1] FALSE TRUE FALSE FALSE 字串取代 sentence = &quot;Bacteria;Firmicutes;Clostridia;Clostridiales;Lachnospiraceae&quot; sub(&quot;;&quot;, replacement=&quot;__&quot;, sentence) ## [1] &quot;Bacteria__Firmicutes;Clostridia;Clostridiales;Lachnospiraceae&quot; gsub(&quot;;&quot;, replacement=&quot;__&quot;, sentence) ## [1] &quot;Bacteria__Firmicutes__Clostridia__Clostridiales__Lachnospiraceae&quot; 2.0.2 亂數產生 Uniform distribution runif(5) #sampling 5 numbers form 0 to 1 ## [1] 0.06509636 0.35188662 0.24384987 0.24882257 0.96668677 runif(5,2,10) #sampling 5 numbers form 2 to 10 ## [1] 3.174527 4.582818 7.373401 2.057517 5.072188 hist(runif(10000)) Normal distribution rnorm(5) #sampling 5 numbers : mean = 0, sd = 1 ## [1] -0.3287833 -1.4417738 0.4028674 1.0017803 1.5747565 rnorm(5,10,1) #sampling 5 numbers : mean = 10, sd = 1 ## [1] 8.570688 10.107122 7.819958 10.276319 11.210510 hist(rnorm(10000,100,5)) Binomial distribution rbinom(10,10,0.9) ## [1] 8 10 10 8 8 8 9 9 8 10 Exponential distribution rexp(10,3) ## [1] 0.24656398 0.27291806 0.03554917 0.19220024 0.04971898 0.12651229 ## [7] 0.25893571 0.85301720 0.25429647 0.50166907 2.0.3 矩陣運算 產生矩陣 M &lt;- matrix(0, nrow = 5, ncol = 6) M ## [,1] [,2] [,3] [,4] [,5] [,6] ## [1,] 0 0 0 0 0 0 ## [2,] 0 0 0 0 0 0 ## [3,] 0 0 0 0 0 0 ## [4,] 0 0 0 0 0 0 ## [5,] 0 0 0 0 0 0 M &lt;- matrix(rnorm(3*2,10,5),3,2) M ## [,1] [,2] ## [1,] 10.138406 3.227848 ## [2,] 13.731884 22.110285 ## [3,] 8.975233 5.426183 測維度 dim(M) ## [1] 3 2 nrow(M) ## [1] 3 ncol(M) ## [1] 2 矩陣組合 cbind(M,M) ## [,1] [,2] [,3] [,4] ## [1,] 10.138406 3.227848 10.138406 3.227848 ## [2,] 13.731884 22.110285 13.731884 22.110285 ## [3,] 8.975233 5.426183 8.975233 5.426183 rbind(M,M) ## [,1] [,2] ## [1,] 10.138406 3.227848 ## [2,] 13.731884 22.110285 ## [3,] 8.975233 5.426183 ## [4,] 10.138406 3.227848 ## [5,] 13.731884 22.110285 ## [6,] 8.975233 5.426183 矩陣轉置 M &lt;- matrix(1:8,nrow = 2, dimnames = list(c(&quot;r1&quot;,&quot;r2&quot;),c(&quot;c1&quot;,&quot;c2&quot;,&quot;c3&quot;,&quot;c4&quot;))) M ## c1 c2 c3 c4 ## r1 1 3 5 7 ## r2 2 4 6 8 t(M) # 轉置 ## r1 r2 ## c1 1 2 ## c2 3 4 ## c3 5 6 ## c4 7 8 M[nrow(M):1,] # 上下翻轉 ## c1 c2 c3 c4 ## r2 2 4 6 8 ## r1 1 3 5 7 M[,ncol(M):1] # 左右翻轉 ## c4 c3 c2 c1 ## r1 7 5 3 1 ## r2 8 6 4 2 t(apply(M, 2, rev)) # 順時針90度翻轉 ## r2 r1 ## c1 2 1 ## c2 4 3 ## c3 6 5 ## c4 8 7 apply(t(M), 2, rev) # 逆時針90度翻轉 ## r1 r2 ## c4 7 8 ## c3 5 6 ## c2 3 4 ## c1 1 2 其他運算 M &lt;- matrix(1:9,3,3) M ## [,1] [,2] [,3] ## [1,] 1 4 7 ## [2,] 2 5 8 ## [3,] 3 6 9 diag(M) #對角線的元素 ## [1] 1 5 9 diag(M) = 0 M ## [,1] [,2] [,3] ## [1,] 0 4 7 ## [2,] 2 0 8 ## [3,] 3 6 0 M %*% M #矩陣乘法 ## [,1] [,2] [,3] ## [1,] 29 42 32 ## [2,] 24 56 14 ## [3,] 12 12 69 library(matrixStats) M &lt;- matrix(rnorm(5*7,10,3),5,7) M ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] ## [1,] 9.202091 6.930441 8.136562 14.31756 10.78076 8.670753 16.712549 ## [2,] 9.860736 15.706941 6.924775 14.88571 11.38036 5.481977 11.288151 ## [3,] 9.193525 11.074197 11.870961 10.28867 10.77733 9.303161 9.667019 ## [4,] 6.352772 13.049293 9.720109 7.97660 13.30155 10.167701 9.047678 ## [5,] 10.618904 7.101466 11.456040 14.82814 10.53788 13.362098 10.615421 rowSums(M) ## [1] 74.75072 75.52866 72.17486 69.61570 78.51995 rowMeans(M) ## [1] 10.678674 10.789808 10.310694 9.945101 11.217136 rowSds(M) ## [1] 3.5679873 3.7755010 0.9927325 2.5359791 2.4432695 rowMaxs(M) ## [1] 16.71255 15.70694 11.87096 13.30155 14.82814 rowMins(M) ## [1] 6.930441 5.481977 9.193525 6.352772 7.101466 Z-transformation gene_expression sample_1 sample_2 sample_3 sample_4 sample_5 sample_6 gene_1 10.841839 6.023889 9.327220 9.394678 13.776283 13.188046 gene_2 12.817021 9.170660 9.594329 11.419349 6.441412 7.733169 gene_3 13.241111 11.871583 12.849857 7.200326 15.660604 10.436325 gene_4 6.602055 6.319973 16.983152 13.851125 10.047557 11.439034 gene_5 13.049545 4.845340 11.362602 9.584815 5.911721 9.503221 cal_z_score &lt;- function(x){ (x - mean(x)) / sd(x) } z_transformed &lt;- t(apply(gene_expression, 1, cal_z_score)) z_transformed sample_1 sample_2 sample_3 sample_4 sample_5 sample_6 gene_1 0.1460313 -1.5431628 -0.3850007 -0.3613496 1.1748602 0.9686217 gene_2 1.4076395 -0.1535628 0.0278326 0.8092210 -1.3221002 -0.7690300 gene_3 0.4760910 -0.0017624 0.3395753 -1.6316501 1.3202968 -0.5025506 gene_4 -1.0289609 -1.0969075 1.4715870 0.7171597 -0.1990251 0.1361468 gene_5 1.2751620 -1.3359061 0.7382760 0.1724779 -0.9965197 0.1465098 rowMeans(z_transformed) ## gene_1 gene_2 gene_3 gene_4 gene_5 ## 1.017704e-16 2.295617e-16 -2.167682e-16 -1.711594e-16 1.757853e-16 rowSds(z_transformed) ## [1] 1 1 1 1 1 "],["basic-statistics.html", "Chapter 3 Basic Statistics", " Chapter 3 Basic Statistics 3.0.1 Outline 依據你的資料型態來選擇統計方法 大致上可以用統計量，原資料是否符合常態分佈與比較方式來挑選統計方法 "],["clustering-method.html", "Chapter 4 Clustering Method", " Chapter 4 Clustering Method "],["dimension-reduction.html", "Chapter 5 Dimension Reduction", " Chapter 5 Dimension Reduction "],["visualization.html", "Chapter 6 Visualization", " Chapter 6 Visualization "],["ml-model.html", "Chapter 7 ML Model", " Chapter 7 ML Model "],["rcpp.html", "Chapter 8 Rcpp", " Chapter 8 Rcpp "],["bash-cheatsheet.html", "Chapter 9 Bash cheatsheet", " Chapter 9 Bash cheatsheet 9.0.1 基本的指令 change directory cd folder_A #變更現行目錄至 folder_A cd .. #回上一層目錄 cd ~ #回到home make directory mkdir folder_A #建立 folder_A 至現行目錄 list ls #陳列現行目錄下的檔案名稱 ls -a #檢視隱藏檔案 ls -l #檢視詳細清單 move mv folder_A/file_1 folder_B/file_1 #移動file_1 從 folder_A 至 folder_B mv folder_A/file_1 folder_A/file_2 #在原資料夾下變更檔案名稱為 file_2 mv -r folder_A folder_B/folder_A將folder_A #移動至folder_B底下 copy cp folder_A/file_1 folder_B/file_1 #複製file_1 從 folder_A 至 folder_B cp -r folder_A folder_B/folder_A #將folder_A 複製至folder_B底下 remove rm file_1 #刪除 file_1 rm -r folder_A #刪除 folder_A a glance at file less file_1 #進入閱讀模式查看 file_1 , 推出按q鍵 cat file_1 #將file_1印在銀幕上 more file_1 #將file_1以一頁一頁的顯示，逐頁閱讀 head file_1 #只檢視file_1的前6行 tail file_1 #指檢視file_1的後6行 system status top #檢視目前電腦運行的狀態 df -g #檢視目前硬碟的狀態，以Gb為單位 free -g #檢視目前RAM的狀態，以Gb為單位 who #檢視目前那些使用者在線上 9.0.2 PATH 9.0.2.1 絕對路徑與相對路徑 假設有個名為anywhere_door.jpg的圖片在treasure_bag的資料夾內。 絕對路徑是以根目錄“/”為始，為 /home/dorAemon/treasure_bag/anywhere_door.jpg 相對路徑則是以當下目錄為主，若當下在自己的home目錄，則為 treasure_bag/anywhere_door.jpg or ~/treasure_bag/anywhere_door.jpg 9.0.2.2 解析檔案 以 /home/dorAemon/treasure_bag/anywhere_door.jpg 為例 /home/dorAemon/treasure_bag 為路徑 anywhere_door 為檔名 .jpg 為副檔名 以此，我們可以做基本的操作 basename /home/dorAemon/treasure_bag/anywhere_door.jpg #萃取完整檔案名 anywhere_door.jpg basename -s .jpg /home/dorAemon/treasure_bag/anywhere_door.jpg #萃取檔案名 anywhere_door dirname /home/dorAemon/treasure_bag/anywhere_door.jpg #萃取檔案路徑 /home/dorAemon/treasure_bag 9.0.2.3 環境變數 當我們要執行某指令時需要將，只輸入指令名稱，而沒有輸入完整指令路徑，系統會在環境變數 中的目錄搜尋相關指令, 如你在任何資料夾中都可以執行ls 而非/bin/ls。 檢視目前的環境變數可用以下指令 echo $PATH or env set #檢視目前 shell 的所有變數 若執行echo $PATH 會輸出類似內容 [dorAemon@localhost ~]$ echo $PATH /usr/local/bin:/usr/bin:/data/home/dorAemon/.local/bin:/data/home/dorAemon/bin:/data/home/dorAemon/treasure_bag 以:為分隔符號可知道環境變數為 /usr/local/bin /usr/bin /data/home/dorAemon/.local/bin /data/home/dorAemon/bin /data/home/dorAemon/treasure_bag 若想將在任意地方執行 ~/treasure_bag 底下的執行檔，需要將~/treasure_bag加入環境變數，即 PATH=&quot;${PATH}:/home/dorAemon/treasure_bag&quot; or export LD_LIBRARY_PATH=/home/dorAemon/treasure_bag 9.0.2.4 尋找檔案 find /home -name anywhere_door.jpg #在/home目錄底下尋找anywhere_door.jpg檔案 find /home -iname anywhere_door.jpg #尋找anywhere_door.jpg時不分英文大小寫 find /home -type d -name anywhere_door #尋找名為anywhere_door的資料夾 ; f : file; l : link find /home -user dorAemon -name anywhere_door.jpg #尋找anywhere_door.jpg且檔案擁有者是dorAemon find /home -group developer #尋找anywhere_door.jpg檔案且屬於developer的群組 which anywhere_door #在$PATH所規範的路徑去搜尋anywhere_door的檔名 9.0.3 變數 9.0.4 判斷式與迴圈 9.0.5 grep, awk, sed 三兄弟 "]]
